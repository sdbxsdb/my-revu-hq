@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-[#2a2a2a];
  }

  body {
    @apply bg-gray-950 text-gray-100;
    margin: 0;
    font-family:
      -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
      'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer components {
  /* Modal mobile-first styles */
  @media (max-width: 47.99em) {
    .mantine-Modal-root .mantine-Modal-inner {
      padding: 0 !important;
    }

    .mantine-Modal-root .mantine-Modal-content {
      height: 100% !important;
      max-height: 100% !important;
      border-radius: 0 !important;
      margin: 0 !important;
    }
  }

  @media (min-width: 48em) {
    .mantine-Modal-header {
      padding: 1rem 1.25rem !important;
    }

    .mantine-Modal-title {
      font-size: 1.125rem !important;
    }

    .mantine-Modal-body {
      padding: 1rem !important;
    }
  }

  /* Paper responsive padding */
  @media (min-width: 48em) {
    .mantine-Paper-root {
      padding: var(--mantine-spacing-xl) !important;
    }
  }

  /* Modal mobile fullscreen */
  @media (max-width: 47.99em) {
    .modal-mobile-fullscreen .mantine-Modal-content {
      height: 100% !important;
      max-height: 100% !important;
      border-radius: 0 !important;
      margin: 0 !important;
    }

    .modal-mobile-fullscreen .mantine-Modal-inner {
      padding: 0 !important;
    }
  }

  /* Select option selected state */
  .mantine-Select-option[data-selected] {
    background-color: rgb(20 184 166) !important;
    color: rgb(255 255 255) !important;
  }

  .mantine-Select-option[data-selected]:hover {
    background-color: rgb(20 184 166) !important;
  }

  /* Mobile sidebar height - accounts for browser UI */
  @media (max-width: 1023px) {
    .sidebar-mobile-height {
      height: 100svh; /* Small viewport height - accounts for mobile browser UI */
      height: 100vh; /* Fallback for older browsers */
    }

    /* Add extra padding-bottom to sidebar on mobile to account for Chrome's bottom address bar */
    .sidebar-mobile-height > * {
      padding-bottom: calc(1.5rem + max(env(safe-area-inset-bottom, 0), 80px)) !important;
    }
  }

  /* Terms modal - full height on mobile, scrollable text area */
  .terms-modal-full-height {
    display: flex !important;
    flex-direction: column !important;
  }

  @media (max-width: 47.99em) {
    .terms-modal-full-height {
      height: 100svh !important;
      max-height: 100svh !important;
      border-radius: 0 !important;
      margin: 0 !important;
    }

    /* Fallback for browsers that don't support svh */
    @supports not (height: 100svh) {
      .terms-modal-full-height {
        height: 100vh !important;
        max-height: 100vh !important;
      }
    }
  }

  @media (min-width: 48em) {
    .terms-modal-full-height {
      max-height: 90vh !important;
    }
  }

  .mantine-Modal-header {
    flex-shrink: 0 !important;
    background-color: rgb(26 26 26) !important;
    border-bottom: 1px solid rgb(42 42 42) !important;
  }

  .mantine-Modal-body {
    flex: 1 !important;
    min-height: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
  }
}
